{% extends 'base.html' %}
{% block content %}
    <h2 class="white-text">{{ recipe.name.capitalize() }}</h2>
    <ul class="collapsible expandable">
        {% if recipe_is_mine %}
            <li>
                <div class="collapsible-header"><i class="material-icons">input</i>Actions</div>
                <div class="collapsible-body white">

                    <a href="{{ url_for('edit_recipe', selection=recipe._id) }}">
                        <button class="btn orange darken-4">Edit</button>
                    </a>

                    <form method="post" action="{{ url_for('delete_recipe', selection=recipe._id) }}">
                        <button class="btn orange darken-4">Delete</button>
                    </form>
                </div>

            </li>
        {% endif %}
        <li class="active">
            <div class="collapsible-header"><i class="material-icons">food_bank</i>Ingredients</div>
            <div class="collapsible-body white">
                <p>
                    {{ recipe.ingredients }}
                </p>
            </div>
        </li>
        <li>
            <div class="collapsible-header"><i class="material-icons">list</i>Preparation</div>
            <div class="collapsible-body white">
                <p>
                    {{ recipe.instructions }}
                </p>
            </div>
        </li>
        {% if session.uid %}
            <li>
                <div class="collapsible-header"><i class="material-icons">star</i>Rating</div>
                <div class="collapsible-body white">
                    <span>Average rating: {{ average_rating }}</span>
                    <p>Use the slider below to select your rating, and then click submit. Your rating will be added and
                        you
                        will be brought to the home page to explore more exciting recipes!</p>
                    <form method="post" action="{{ url_for('rate_recipe', selection=recipe._id) }}">
                        <p class="range-field">
                            <input type="range" id="rating" name="rating" min="0" max="10"/>
                            <label for="rating">Rating</label>
                        </p>
                        <button type="submit" class="btn orange darken-4">Submit</button>
                    </form>
                </div>
            </li>
        {% endif %}
    </ul>


{% endblock content %}
